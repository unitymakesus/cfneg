@mixin watermark-mixin() {
  content: "";
  position: absolute;
  top: 0;
  left: 2%;
  background: url('../images/column.svg') no-repeat top left;
  background-size: cover;
}

#et_builder_outer_content {
  .et_pb_section {
    &.pattern {
      @include pattern;
      background-color: $white;
    }

    &.background-light-blue {
      background-color: rgba($light-blue, .15) !important;
    }

    &.watermark {
      padding: 25px;

      &.large {
        &::before {
          @include watermark-mixin;
          width: 26%;
          height: 100%;

          @include breakpoint(small only) {
            height:45%;
            width: 25%;
          }
        }

        .et_pb_row {
          padding-left: 13%;

          @include breakpoint(medium only) {
                  padding-left: 25%;
                  padding-top: 0;
          }

          @include breakpoint(small only) {
            padding-left: 25%;
          }

          &::before {
            display: none;
          }
        }
      }

      .et_pb_row {
        width: 80% !important;
        padding-left: 7%;

        @include breakpoint(medium only) {
          width: 95% !important;
        }

        @include breakpoint(small only) {
          width: 100% !important;
          font-size: 16px !important;
        }

        &::before {
          @include watermark-mixin;
          width: 12%;
          left: -5%;
          top: -25px;
          bottom: -25px;
        }
      }
    }
  }

  .et_pb_blurb {
    &[class*="impact-"] {
      .et_pb_main_blurb_image {
        margin: 0;

        a {
          margin: 0;
          padding: 0;
          display: block;
        }

        img {
          display: block;
        }
      }

      .et_pb_blurb_container {
        text-align: center;

        h4 {
          background: $light-gray;
          padding: 20px 0;

          a {
            font-size: 22px;
            line-height: 2em;
            text-transform: uppercase;
            font-weight: bold;
            color: $brand-blue;
            display: block;
            padding: 0;

            @include breakpoint(medium only) {
                    font-size: 20px;
            }
          }
        }

        img {
          display: block;
        }

        p {
          margin: 0;
          padding: 0;

          &:last-child a {
            color: $white;
            font-weight: bold;
            padding: 20px 0;
            display: block;
          }
        }
      }

      &.et_pb_blurb_1 {
        h4 a {
          line-height: 1em;
        }
      }
    }

    $colors: ('brand-blue': $brand-blue, 'medium-green': $medium-green, 'gold': $gold, 'light-blue': $light-blue, 'light-green': $light-green);
    @each $name, $color in $colors {
      &.impact-#{$name} {
        .et_pb_blurb_container {
          background: #{$color};

          &:hover, &:focus, &:active {
            background: darken($color, 10%);
          }
        }
      }
    }
  }
}

@include breakpoint (medium only) {
  .et_divi_builder #et_builder_outer_content .et_pb_text_2.et_pb_text {
    font-size: 18px;
  }
}

@include breakpoint (small only) {
  .et_divi_builder #et_builder_outer_content .et_pb_module p {
    font-size: 16px !important;
  }
}
